{"version":3,"sources":["index.js"],"names":["playScore","compScore","id","res","base","screenSize","dataBase","refs","mainContainerEl","document","querySelector","rockEl","paperEl","scissorsEl","resultContainerEl","playScoreEl","compScoreEl","titleEl","resizeObserver","ResizeObserver","onResize","entries","aspectRatio","contentRect","width","height","classList","add","remove","initialData","addEventListener","playerChoiceAdd","event","target","compChoiceAdd","playerChoice","removeEventListener","comp","compChoice","Math","ceil","random","dataProcessing","message","rockrock","rockpaper","rockscissors","paperpaper","paperrock","paperscissors","scissorsscissors","scissorsrock","scissorspaper","result","resultsBase","showResult","style","backgroundSize","background","textContent","once","innerObj","push","observe"],"mappings":"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","file":"src.447e3a9c.js","sourceRoot":"..\\src","sourcesContent":["\"use strict\"\r\n// камень-ножницы-бумага\r\n\r\n\r\n\r\nlet playScore = 0;\r\nlet compScore = 0;\r\nlet id = 0;\r\nlet res = {};\r\nlet base = [];\r\nlet screenSize = \"auto\"\r\nconst dataBase = [];\r\n\r\nconst refs = {\r\n    mainContainerEl: document.querySelector('.main-container'),\r\n    rockEl: document.querySelector('.rock-container'),\r\n    paperEl: document.querySelector('.paper-container'),\r\n    scissorsEl: document.querySelector('.scissors-container'),\r\n    resultContainerEl: document.querySelector('.result-container'),\r\n    playScoreEl: document.querySelector('.player-score'),\r\n    compScoreEl: document.querySelector('.comp-score'),\r\n    titleEl: document.querySelector('.title-cont')\r\n};\r\n\r\nconst resizeObserver = new ResizeObserver(onResize)\r\n\r\nfunction onResize(entries) {\r\n\r\n    const aspectRatio = entries[0].contentRect.width / entries[0].contentRect.height\r\n\r\n    if (aspectRatio < 0.7) { screenSize = \"cover\" }\r\n    else { screenSize = \"auto\" };\r\n\r\n    //Добавление и удаление классов на широкий экран\r\n    if (aspectRatio > 0.7) {\r\n        refs.rockEl.classList.add('wide-screen');\r\n        refs.paperEl.classList.add('wide-screen');\r\n        refs.scissorsEl.classList.add('wide-screen');\r\n        refs.playScoreEl.classList.add('wide-screen');\r\n        refs.compScoreEl.classList.add('wide-screen');\r\n    } else {\r\n        refs.rockEl.classList.remove('wide-screen');\r\n        refs.paperEl.classList.remove('wide-screen');\r\n        refs.scissorsEl.classList.remove('wide-screen');\r\n        refs.playScoreEl.classList.remove('wide-screen');\r\n        refs.compScoreEl.classList.remove('wide-screen');\r\n    };\r\n\r\n    // Добавление и удаление классов на самый широкий экран\r\n    if (aspectRatio > 1.4) {\r\n        refs.rockEl.classList.add('widest-screen');\r\n        refs.paperEl.classList.add('widest-screen');\r\n        refs.scissorsEl.classList.add('widest-screen');\r\n        refs.playScoreEl.classList.add('widest-screen');\r\n        refs.compScoreEl.classList.add('widest-screen');\r\n    } else {\r\n        refs.rockEl.classList.remove('widest-screen');\r\n        refs.paperEl.classList.remove('widest-screen');\r\n        refs.scissorsEl.classList.remove('widest-screen');\r\n        refs.playScoreEl.classList.remove('widest-screen');\r\n        refs.compScoreEl.classList.remove('widest-screen');\r\n    }\r\n\r\n};\r\n\r\nresizeObserver.observe(refs.mainContainerEl)\r\n\r\n\r\ninitialData();\r\n\r\n\r\n//Выбор игрока, включение иконок\r\nfunction initialData() {\r\n    refs.resultContainerEl.classList.add('is-hidden');\r\n    refs.rockEl.classList.remove('is-hidden');\r\n    refs.paperEl.classList.remove('is-hidden');\r\n    refs.scissorsEl.classList.remove('is-hidden');\r\n    refs.mainContainerEl.addEventListener('click', playerChoiceAdd)\r\n};\r\n\r\n\r\nfunction playerChoiceAdd(event) {\r\n\r\n\r\n\r\n    switch (event.target) {\r\n        case refs.rockEl:\r\n            compChoiceAdd('rock');\r\n            break;\r\n        case refs.paperEl:\r\n            compChoiceAdd('paper');\r\n            break;\r\n        case refs.scissorsEl:\r\n            compChoiceAdd('scissors');\r\n            break;\r\n    }\r\n}\r\n\r\n//Создаем выбор компа и передаем в обработку вместе с выбором игрока\r\nfunction compChoiceAdd(playerChoice) {\r\n\r\n    refs.mainContainerEl.removeEventListener('click', playerChoiceAdd);\r\n\r\n    const comp = Math.ceil(Math.random() * 3);\r\n    let compChoice = '';\r\n    switch (comp) {\r\n        case (1):\r\n            compChoice = 'rock'\r\n            break;\r\n        case (2):\r\n            compChoice = 'paper'\r\n            break;\r\n        case (3):\r\n            compChoice = 'scissors'\r\n            break;\r\n    };\r\n    dataProcessing(playerChoice, compChoice)\r\n}\r\n\r\n\r\n//Обработка данных и выдача массива  данных результатов\r\nfunction dataProcessing(playerChoice, compChoice) {\r\n\r\n    let message = '';\r\n\r\n    const innerData = {\r\n        rockrock: 'draw',\r\n        rockpaper: 'loss',\r\n        rockscissors: 'win',\r\n        paperpaper: 'draw',\r\n        paperrock: 'win',\r\n        paperscissors: 'loss',\r\n        scissorsscissors: 'draw',\r\n        scissorsrock: 'loss',\r\n        scissorspaper: 'win'\r\n    };\r\n\r\n    message = innerData[playerChoice + compChoice];\r\n\r\n\r\n    switch (message) {\r\n        case 'win':\r\n            playScore += 1;\r\n            break;\r\n        case 'loss':\r\n            compScore += 1;\r\n            break;\r\n    }\r\n\r\n    const result = {\r\n        playerChoice,\r\n        compChoice,\r\n        message,\r\n        playScore,\r\n        compScore,\r\n    };\r\n\r\n    resultsBase(result);\r\n    showResult(result);\r\n};\r\n\r\n//Отображает результаты последнего матча на экране\r\nfunction showResult(result) {\r\n    refs.rockEl.classList.add('is-hidden');\r\n    refs.paperEl.classList.add('is-hidden');\r\n    refs.scissorsEl.classList.add('is-hidden');\r\n    refs.resultContainerEl.classList.remove('is-hidden');\r\n    refs.resultContainerEl.style.backgroundSize = 'cover';\r\n\r\n    switch (result.message) {\r\n        case 'win':\r\n            refs.resultContainerEl.style.background = 'url(./images/win.jpg) center center no-repeat';\r\n            refs.resultContainerEl.style.backgroundSize = screenSize\r\n            break;\r\n\r\n        case 'loss':\r\n            refs.resultContainerEl.style.background = 'url(./images/loss.png)  center center no-repeat ';\r\n            refs.resultContainerEl.style.backgroundSize = screenSize;\r\n            break;\r\n\r\n        case 'draw':\r\n            refs.resultContainerEl.style.background = 'url(./images/draw.png)  center center no-repeat ';\r\n            refs.resultContainerEl.style.backgroundSize = screenSize;\r\n            break;\r\n    };\r\n\r\n    refs.playScoreEl.textContent = result.playScore;\r\n    refs.compScoreEl.textContent = result.compScore;\r\n\r\n\r\n\r\n    refs.mainContainerEl.addEventListener('click', initialData, { once: true });\r\n};\r\n\r\n// формит массив\r\n\r\nfunction resultsBase(innerObj) {\r\n\r\n    id += 1;\r\n    dataBase.push({ ...{ id }, ...innerObj });\r\n    return dataBase;\r\n\r\n}\r\n\r\n\r\n    //будет выводить таблицу результатов после игры\r\n    // function printAllResult() {\r\n    // }\r\n"]}